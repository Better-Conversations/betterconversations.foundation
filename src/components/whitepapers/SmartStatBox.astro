---
// This is a smart wrapper that automatically renders either the interactive or PDF version
export interface Props {
  number: string;
  label: string;
  color?: string;
  trend?: 'up' | 'down' | 'neutral';
  animate?: boolean;
}

const props = Astro.props;

// Check if we're in PDF context
const isPDF = Astro.url.pathname.endsWith('.pdf');

// Dynamically import the appropriate component
const Component = isPDF 
  ? (await import('./pdf/StatBoxPDF.astro')).default
  : (await import('./StatBox.astro')).default;

// For PDF version, we need to convert to the expected format
const pdfProps = isPDF ? {
  stats: [{
    value: props.number,
    label: props.label,
    trend: props.trend,
    color: props.color
  }]
} : props;
---

<Component {...(isPDF ? pdfProps : props)} />