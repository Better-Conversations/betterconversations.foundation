---
import Layout from '../../layouts/Layout.astro';
---

<Layout title="Contact Us - Better Conversations Foundation">
  <!-- Preconnect to Calendly for faster loading -->
  <link slot="head" rel="preconnect" href="https://calendly.com" />
  <link slot="head" rel="preconnect" href="https://assets.calendly.com" />
  <link slot="head" rel="dns-prefetch" href="https://calendly.com" />
  <link slot="head" rel="dns-prefetch" href="https://assets.calendly.com" />

  <!-- Load Calendly script early -->
  <script slot="head" type="text/javascript" src="https://assets.calendly.com/assets/external/widget.js" async></script>
  <style>
    /* Calendar grid animation */
    @keyframes gridFade {
      0%, 100% { opacity: 0.03; }
      50% { opacity: 0.08; }
    }

    .calendar-grid {
      position: absolute;
      inset: 0;
      background-image:
        repeating-linear-gradient(0deg, rgba(84, 196, 182, 0.1) 0px, transparent 1px, transparent 40px, rgba(84, 196, 182, 0.1) 40px),
        repeating-linear-gradient(90deg, rgba(168, 211, 129, 0.1) 0px, transparent 1px, transparent 40px, rgba(168, 211, 129, 0.1) 40px);
      animation: gridFade 4s ease-in-out infinite;
    }

    /* Animated clock background */
    @keyframes clockRotate {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }

    .clock-bg {
      position: absolute;
      width: 300px;
      height: 300px;
      top: 50%;
      right: -150px;
      transform: translateY(-50%);
      opacity: 0.05;
    }

    .clock-hand-minute {
      animation: clockRotate 3600s linear infinite;
    }

    .clock-hand-hour {
      animation: clockRotate 43200s linear infinite;
    }

    /* Availability badge */
    .availability-badge {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.5rem 1rem;
      background: rgba(16, 185, 129, 0.1);
      border: 1px solid rgba(16, 185, 129, 0.2);
      border-radius: 9999px;
      font-size: 0.875rem;
      font-weight: 500;
      color: #059669;
    }

    .availability-dot {
      width: 8px;
      height: 8px;
      background: #10b981;
      border-radius: 50%;
      position: relative;
    }

    .availability-dot::before {
      content: '';
      position: absolute;
      inset: -4px;
      background: #10b981;
      border-radius: 50%;
      opacity: 0.3;
      animation: ping 2s cubic-bezier(0, 0, 0.2, 1) infinite;
    }

    @keyframes ping {
      75%, 100% {
        transform: scale(2);
        opacity: 0;
      }
    }

    /* Tab styling */
    .tab-button {
      transition: all 0.3s ease;
    }

    .tab-button.active {
      background: linear-gradient(135deg, #54C4B6, #A8D381);
      color: white;
      box-shadow: 0 4px 12px rgba(84, 196, 182, 0.3);
    }

    .tab-content {
      display: none;
    }

    .tab-content.active {
      display: block;
      animation: fadeIn 0.3s ease-in;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* Floating form labels */
    .form-group {
      position: relative;
    }

    .form-input {
      background: transparent;
      border: none;
      border-bottom: 2px solid #e5e7eb;
      transition: all 0.3s ease;
    }

    .form-input:focus {
      outline: none;
      border-bottom-color: #54C4B6;
    }

    .form-label {
      position: absolute;
      left: 0;
      top: 50%;
      transform: translateY(-50%);
      transition: all 0.3s ease;
      pointer-events: none;
      color: #9ca3af;
    }

    .form-input:focus ~ .form-label,
    .form-input:not(:placeholder-shown) ~ .form-label {
      top: -8px;
      transform: translateY(0);
      font-size: 0.75rem;
      color: #54C4B6;
    }

    /* Ripple effect */
    .ripple {
      position: relative;
      overflow: hidden;
    }

    .ripple::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 0;
      height: 0;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.5);
      transform: translate(-50%, -50%);
      transition: width 0.6s, height 0.6s;
    }

    .ripple:active::after {
      width: 300px;
      height: 300px;
    }

    /* Calendly container styling */
    .calendly-inline-widget {
      min-width: 320px;
      height: 700px;
      border-radius: 16px;
      overflow: hidden;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
    }

    /* Conversation flow animations */
    @keyframes flowPath {
      0% { stroke-dashoffset: 0; }
      100% { stroke-dashoffset: -20; }
    }

    .conversation-path {
      animation: flowPath 3s linear infinite;
    }

    @keyframes nodeAppear {
      0% {
        opacity: 0;
        transform: scale(0.8);
      }
      100% {
        opacity: 1;
        transform: scale(1);
      }
    }

    .conversation-node {
      opacity: 0;
      animation: nodeAppear 0.8s ease-out forwards;
    }

    .animation-delay-1 {
      animation-delay: 0.3s;
    }

    .animation-delay-2 {
      animation-delay: 0.6s;
    }
  </style>

  <!-- Hero Section -->
  <section class="relative overflow-hidden bg-gradient-to-br from-white via-gray-50/50 to-white py-20 lg:py-24">
    <!-- Calendar grid background -->
    <div class="calendar-grid"></div>

    <!-- Abstract clock SVG background -->
    <svg class="clock-bg" viewBox="0 0 300 300" fill="none" xmlns="http://www.w3.org/2000/svg">
      <circle cx="150" cy="150" r="145" stroke="#54C4B6" stroke-width="2"/>
      <circle cx="150" cy="150" r="130" stroke="#A8D381" stroke-width="1" stroke-dasharray="5 5"/>
      <line class="clock-hand-hour" x1="150" y1="150" x2="150" y2="80" stroke="#54C4B6" stroke-width="3" stroke-linecap="round"/>
      <line class="clock-hand-minute" x1="150" y1="150" x2="150" y2="50" stroke="#A8D381" stroke-width="2" stroke-linecap="round"/>
      <circle cx="150" cy="150" r="8" fill="#54C4B6"/>
    </svg>

    <div class="relative max-w-7xl mx-auto px-6 sm:px-8 lg:px-8">
      <div class="grid lg:grid-cols-2 gap-12 items-center">
        <!-- Left content -->
        <div class="text-center lg:text-left">
          <div class="availability-badge inline-flex mb-6">
            <span class="availability-dot"></span>
            <span>Open for conversations</span>
          </div>

          <h1 class="text-4xl md:text-5xl lg:text-6xl font-bold text-gray-900 mb-6">
            Get in <span class="relative">
              <span class="relative z-10 bg-gradient-to-r from-[#54C4B6] to-[#A8D381] bg-clip-text text-transparent">
                Touch
              </span>
              <svg class="absolute -bottom-2 left-0 w-full" height="8" viewBox="0 0 200 8" preserveAspectRatio="none">
                <path d="M0 7 Q50 0 100 3 T200 7" stroke="url(#gradient)" stroke-width="2" fill="none" opacity="0.5"/>
                <defs>
                  <linearGradient id="gradient" x1="0%" y1="0%" x2="100%" y2="0%">
                    <stop offset="0%" style="stop-color:#54C4B6" />
                    <stop offset="100%" style="stop-color:#A8D381" />
                  </linearGradient>
                </defs>
              </svg>
            </span>
          </h1>

          <p class="text-xl text-gray-600 mb-8 max-w-xl">
            Whether you prefer to send us a message or book a call, we're here to help transform communication in your organisation.
          </p>

          <div class="space-y-3 text-left max-w-md mx-auto lg:mx-0">
            <div class="flex items-center gap-3">
              <div class="w-10 h-10 rounded-lg bg-[#54C4B6]/10 flex items-center justify-center flex-shrink-0">
                <svg class="w-5 h-5 text-[#54C4B6]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                </svg>
              </div>
              <span class="text-gray-700">Send us a message anytime</span>
            </div>
            <div class="flex items-center gap-3">
              <div class="w-10 h-10 rounded-lg bg-[#A8D381]/10 flex items-center justify-center flex-shrink-0">
                <svg class="w-5 h-5 text-[#A8D381]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                </svg>
              </div>
              <span class="text-gray-700">Book a convenient time slot</span>
            </div>
            <div class="flex items-center gap-3">
              <div class="w-10 h-10 rounded-lg bg-[#54C4B6]/10 flex items-center justify-center flex-shrink-0">
                <svg class="w-5 h-5 text-[#54C4B6]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z"></path>
                </svg>
              </div>
              <span class="text-gray-700">Flexible communication options</span>
            </div>
          </div>
        </div>

        <!-- Right content - Conversation Flow Visualization -->
        <div class="hidden lg:block relative h-[400px]">
          <!-- Conversation Flow SVG -->
          <svg class="absolute inset-0 w-full h-full" viewBox="0 0 450 400" fill="none" xmlns="http://www.w3.org/2000/svg">
            <!-- Flowing conversation paths -->
            <path d="M100 100 Q200 50 300 100 T400 150"
              stroke="url(#flow-gradient-1)"
              stroke-width="2"
              fill="none"
              opacity="0.3"
              stroke-dasharray="5 10"
              class="conversation-path"
            />
            <path d="M50 200 Q150 150 250 200 T350 250"
              stroke="url(#flow-gradient-2)"
              stroke-width="2"
              fill="none"
              opacity="0.3"
              stroke-dasharray="5 10"
              class="conversation-path"
            />
            <path d="M100 300 Q200 250 300 300 T400 350"
              stroke="url(#flow-gradient-3)"
              stroke-width="2"
              fill="none"
              opacity="0.3"
              stroke-dasharray="5 10"
              class="conversation-path"
            />

            <defs>
              <linearGradient id="flow-gradient-1" x1="0%" y1="0%" x2="100%" y2="0%">
                <stop offset="0%" stop-color="#54C4B6" stop-opacity="0"/>
                <stop offset="50%" stop-color="#54C4B6" stop-opacity="1"/>
                <stop offset="100%" stop-color="#54C4B6" stop-opacity="0"/>
              </linearGradient>
              <linearGradient id="flow-gradient-2" x1="0%" y1="0%" x2="100%" y2="0%">
                <stop offset="0%" stop-color="#A8D381" stop-opacity="0"/>
                <stop offset="50%" stop-color="#A8D381" stop-opacity="1"/>
                <stop offset="100%" stop-color="#A8D381" stop-opacity="0"/>
              </linearGradient>
              <linearGradient id="flow-gradient-3" x1="0%" y1="0%" x2="100%" y2="0%">
                <stop offset="0%" stop-color="#54C4B6" stop-opacity="0"/>
                <stop offset="50%" stop-color="#54C4B6" stop-opacity="1"/>
                <stop offset="100%" stop-color="#A8D381" stop-opacity="0"/>
              </linearGradient>
            </defs>
          </svg>

          <!-- Conversation Elements -->
          <div class="absolute top-[80px] left-[20%] -translate-x-1/2 conversation-node">
            <div class="w-16 h-16 bg-white rounded-full shadow-lg border-2 border-[#54C4B6] flex items-center justify-center">
              <svg class="w-8 h-8 text-[#54C4B6]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
              </svg>
            </div>
            <p class="absolute -bottom-8 left-1/2 -translate-x-1/2 text-xs text-gray-600 whitespace-nowrap">You</p>
          </div>

          <div class="absolute top-[180px] left-[50%] -translate-x-1/2 conversation-node animation-delay-1">
            <div class="w-20 h-20 bg-gradient-to-br from-[#54C4B6] to-[#A8D381] rounded-full shadow-xl flex items-center justify-center">
              <svg class="w-10 h-10 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path>
              </svg>
            </div>
            <p class="absolute -bottom-8 left-1/2 -translate-x-1/2 text-xs text-gray-600 whitespace-nowrap">Connect</p>
          </div>

          <div class="absolute top-[280px] right-[20%] translate-x-1/2 conversation-node animation-delay-2">
            <div class="w-16 h-16 bg-white rounded-full shadow-lg border-2 border-[#A8D381] flex items-center justify-center">
              <svg class="w-8 h-8 text-[#A8D381]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
              </svg>
            </div>
            <p class="absolute -bottom-8 left-1/2 -translate-x-1/2 text-xs text-gray-600 whitespace-nowrap">Transform</p>
          </div>

          <!-- Floating dots -->
          <div class="absolute top-[120px] right-[30%] w-3 h-3 bg-[#54C4B6]/30 rounded-full animate-pulse"></div>
          <div class="absolute top-[220px] left-[30%] w-2 h-2 bg-[#A8D381]/30 rounded-full animate-pulse animation-delay-1"></div>
          <div class="absolute bottom-[100px] right-[40%] w-3 h-3 bg-[#54C4B6]/30 rounded-full animate-pulse animation-delay-2"></div>
        </div>
      </div>
    </div>

    <!-- Wave separator -->
    <div class="absolute bottom-0 left-0 right-0">
      <svg class="w-full h-32 text-white" preserveAspectRatio="none" viewBox="0 0 1440 120" fill="currentColor" style="filter: drop-shadow(0 -4px 6px rgba(0, 0, 0, 0.05));">
        <!-- Background wave with gradient -->
        <defs>
          <linearGradient id="wave-gradient" x1="0%" y1="0%" x2="100%" y2="0%">
            <stop offset="0%" style="stop-color:#54C4B6;stop-opacity:0.1" />
            <stop offset="50%" style="stop-color:#A8D381;stop-opacity:0.1" />
            <stop offset="100%" style="stop-color:#54C4B6;stop-opacity:0.1" />
          </linearGradient>
        </defs>

        <!-- Secondary wave layer (colored) -->
        <path d="M0,50L60,55C120,60,240,70,360,73C480,76,600,72,720,65C840,58,960,48,1080,50C1200,52,1320,66,1380,73L1440,80L1440,120L0,120Z" fill="url(#wave-gradient)" opacity="0.5"/>

        <!-- Primary wave layer (white) -->
        <path d="M0,80L60,83C120,86,240,92,360,93C480,94,600,90,720,83C840,76,960,66,1080,68C1200,70,1320,84,1380,91L1440,98L1440,120L1380,120C1320,120,1200,120,1080,120C960,120,840,120,720,120C600,120,480,120,360,120C240,120,120,120,60,120L0,120Z" fill="currentColor"/>
      </svg>
    </div>
  </section>

  <!-- Tabbed Contact Section -->
  <section class="py-16 bg-white">
    <div class="max-w-5xl mx-auto px-6 sm:px-8 lg:px-8">
      <!-- Tab Buttons -->
      <div class="flex justify-center mb-8">
        <div class="inline-flex bg-gray-100 rounded-full p-1">
          <button
            onclick="switchTab('message')"
            id="tab-message"
            class="tab-button active px-8 py-3 rounded-full font-medium transition-all duration-300"
          >
            <svg class="w-5 h-5 inline-block mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
            </svg>
            Send a Message
          </button>
          <button
            onclick="switchTab('call')"
            id="tab-call"
            class="tab-button px-8 py-3 rounded-full font-medium text-gray-700 hover:text-gray-900 transition-all duration-300"
          >
            <svg class="w-5 h-5 inline-block mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
            </svg>
            Schedule a Call
          </button>
        </div>
      </div>

      <!-- Tab Content -->
      <div class="tab-content active" id="content-message">
    <div class="max-w-4xl mx-auto px-6 sm:px-8 lg:px-8">
      <div class="bg-gradient-to-br from-gray-50 to-white rounded-3xl p-8 md:p-12 shadow-xl border border-gray-100">
        <h2 class="text-3xl font-bold text-gray-900 mb-8 text-center">Send us a Message</h2>

        <form id="contact-form" class="space-y-6">
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <!-- Name Field -->
            <div class="form-group">
              <input type="text" id="name" class="form-input w-full px-0 py-3 text-gray-900" placeholder=" " required>
              <label for="name" class="form-label">Your Name</label>
            </div>

            <!-- Email Field -->
            <div class="form-group">
              <input type="email" id="email" class="form-input w-full px-0 py-3 text-gray-900" placeholder=" " required>
              <label for="email" class="form-label">Email Address</label>
            </div>
          </div>

          <!-- Organization Field -->
          <div class="form-group">
            <input type="text" id="organization" class="form-input w-full px-0 py-3 text-gray-900" placeholder=" ">
            <label for="organization" class="form-label">Organization (Optional)</label>
          </div>

          <!-- Interest Selector -->
          <div class="space-y-2">
            <label class="text-sm font-medium text-gray-700">I'm interested in:</label>
            <div class="grid grid-cols-2 md:grid-cols-4 gap-3">
              <label class="interest-option cursor-pointer">
                <input type="checkbox" class="sr-only peer" name="interest" value="training">
                <div class="px-4 py-2 rounded-full border-2 border-gray-200 peer-checked:border-[#54C4B6] peer-checked:bg-[#54C4B6]/10 peer-checked:text-[#54C4B6] transition-all text-center text-sm">
                  Training
                </div>
              </label>
              <label class="interest-option cursor-pointer">
                <input type="checkbox" class="sr-only peer" name="interest" value="facilitation">
                <div class="px-4 py-2 rounded-full border-2 border-gray-200 peer-checked:border-[#54C4B6] peer-checked:bg-[#54C4B6]/10 peer-checked:text-[#54C4B6] transition-all text-center text-sm">
                  Facilitation
                </div>
              </label>
              <label class="interest-option cursor-pointer">
                <input type="checkbox" class="sr-only peer" name="interest" value="partnership">
                <div class="px-4 py-2 rounded-full border-2 border-gray-200 peer-checked:border-[#A8D381] peer-checked:bg-[#A8D381]/10 peer-checked:text-[#A8D381] transition-all text-center text-sm">
                  Partnership
                </div>
              </label>
              <label class="interest-option cursor-pointer">
                <input type="checkbox" class="sr-only peer" name="interest" value="membership">
                <div class="px-4 py-2 rounded-full border-2 border-gray-200 peer-checked:border-[#A8D381] peer-checked:bg-[#A8D381]/10 peer-checked:text-[#A8D381] transition-all text-center text-sm">
                  Membership
                </div>
              </label>
            </div>
          </div>

          <!-- Message Field -->
          <div class="form-group">
            <textarea id="message" rows="6" class="form-input w-full px-0 py-3 text-gray-900 resize-none" placeholder=" " required></textarea>
            <label for="message" class="form-label">Your Message</label>
          </div>

          <!-- Submit Button -->
          <div class="text-center pt-4">
            <button type="submit" class="ripple magnetic-button inline-flex items-center px-8 py-4 bg-gradient-to-r from-[#54C4B6] to-[#A8D381] text-white font-medium rounded-full hover:shadow-lg transform hover:scale-105 transition-all duration-300">
              Send Message
              <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"/>
              </svg>
            </button>
          </div>
        </form>
      </div>
    </div>
      </div>

      <!-- Call Tab Content -->
      <div class="tab-content" id="content-call">
        <div class="text-center mb-8">
          <h2 class="text-3xl font-bold text-gray-900 mb-4">Choose Your Preferred Time</h2>
          <p class="text-lg text-gray-600">Select a time that works best for you from our available slots</p>
        </div>

        <!-- Calendly inline widget begin -->
        <div class="calendly-inline-widget" data-url="https://calendly.com/d/cp7s-5z6-5h8/better-conversations-foundation-discussion" style="min-width:320px;height:700px;"></div>
        <!-- Calendly inline widget end -->
      </div>
    </div>
  </section>

  <!-- FAQ Section -->
  <section class="py-16 bg-white">
    <div class="max-w-4xl mx-auto px-6 sm:px-8 lg:px-8">
      <h2 class="text-3xl font-bold text-gray-900 text-center mb-12">Frequently Asked Questions</h2>

      <div class="space-y-4">
        <details class="group bg-gray-50 rounded-lg shadow-sm border border-gray-200 overflow-hidden">
          <summary class="flex items-center justify-between p-6 cursor-pointer hover:bg-gray-100 transition-colors">
            <h3 class="text-lg font-medium text-gray-900">How do I become a member of BCF?</h3>
            <svg class="w-5 h-5 text-gray-500 group-open:rotate-180 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
            </svg>
          </summary>
          <div class="px-6 pb-6">
            <p class="text-gray-600">You can become a member by either being sponsored by an existing member through bettercourses.org or by scheduling a call with us to discuss if we're a good fit for each other.</p>
          </div>
        </details>

        <details class="group bg-gray-50 rounded-lg shadow-sm border border-gray-200 overflow-hidden">
          <summary class="flex items-center justify-between p-6 cursor-pointer hover:bg-gray-100 transition-colors">
            <h3 class="text-lg font-medium text-gray-900">What training programs do you offer?</h3>
            <svg class="w-5 h-5 text-gray-500 group-open:rotate-180 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
            </svg>
          </summary>
          <div class="px-6 pb-6">
            <p class="text-gray-600">We offer Better Conversations training for individuals and organizations, focusing on Clean Language and Emergent Knowledge techniques. Training is available through public courses, private sessions, and partner organizations.</p>
          </div>
        </details>

        <details class="group bg-gray-50 rounded-lg shadow-sm border border-gray-200 overflow-hidden">
          <summary class="flex items-center justify-between p-6 cursor-pointer hover:bg-gray-100 transition-colors">
            <h3 class="text-lg font-medium text-gray-900">How can my organization partner with BCF?</h3>
            <svg class="w-5 h-5 text-gray-500 group-open:rotate-180 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
            </svg>
          </summary>
          <div class="px-6 pb-6">
            <p class="text-gray-600">Organizations can partner with BCF through various programs including custom training solutions, facilitator certification, research collaboration, or by supporting our foundation's mission. Contact us to explore partnership opportunities.</p>
          </div>
        </details>
      </div>
    </div>
  </section>

  <script is:inline>
    // Tab switching function - needs to be global for onclick handlers
    window.switchTab = function(tabName) {
      // Remove active class from all tabs and content
      document.querySelectorAll('.tab-button').forEach(btn => {
        btn.classList.remove('active');
      });
      document.querySelectorAll('.tab-content').forEach(content => {
        content.classList.remove('active');
      });

    function typeWriter() {
      const currentWord = words[wordIndex];
      
      if (isDeleting) {
        // Remove characters
        if (typewriterElement) typewriterElement.textContent = currentWord.substring(0, charIndex - 1);
        charIndex--;
        
        if (charIndex === 0) {
          isDeleting = false;
          wordIndex = (wordIndex + 1) % words.length;
          setTimeout(typeWriter, 500);
          return;
        }
      } else {
        // Add characters
        if (typewriterElement) typewriterElement.textContent = currentWord.substring(0, charIndex + 1);
        charIndex++;
        
        if (charIndex === currentWord.length) {
          isDeleting = true;
          setTimeout(typeWriter, pauseTime);
          return;
        }
      }
      
      setTimeout(typeWriter, isDeleting ? deletingSpeed : typingSpeed);
      // Add active class to selected tab and content
      document.getElementById('tab-' + tabName).classList.add('active');
      document.getElementById('content-' + tabName).classList.add('active');
    }

    // Check URL parameter and open correct tab on page load
    function checkAndOpenTab() {
      var urlParams = new URLSearchParams(window.location.search);
      var tab = urlParams.get('tab');

    // Magnetic button effect
    document.querySelectorAll('.magnetic-button').forEach(button => {
      button.addEventListener('mousemove', (e) => {
        const rect = button.getBoundingClientRect();
        const x = (e as MouseEvent).clientX - rect.left - rect.width / 2;
        const y = (e as MouseEvent).clientY - rect.top - rect.height / 2;
        
        (button as HTMLElement).style.transform = `translate(${x * 0.2}px, ${y * 0.2}px)`;
      });
      
      button.addEventListener('mouseleave', () => {
        (button as HTMLElement).style.transform = 'translate(0, 0)';
      });
    });

    // 3D tilt effect for cards
    document.querySelectorAll('.tilt-card').forEach(card => {
      card.addEventListener('mousemove', (e) => {
        const rect = card.getBoundingClientRect();
        const x = ((e as MouseEvent).clientX - rect.left) / rect.width;
        const y = ((e as MouseEvent).clientY - rect.top) / rect.height;
        
        const tiltX = (y - 0.5) * 10;
        const tiltY = (x - 0.5) * -10;
        
        (card as HTMLElement).style.transform = `perspective(1000px) rotateX(${tiltX}deg) rotateY(${tiltY}deg)`;
      });
      
      card.addEventListener('mouseleave', () => {
        (card as HTMLElement).style.transform = 'perspective(1000px) rotateX(0) rotateY(0)';
      });
    });

    // Form submission handling
    document.getElementById('contact-form')?.addEventListener('submit', (e) => {
      e.preventDefault();
      
      // Add success animation
      const button = (e.target as HTMLFormElement).querySelector('button[type="submit"]') as HTMLButtonElement | null;
      if (!button) return;
      const originalText = button.innerHTML;
      
      button.innerHTML = `
        <svg class="w-5 h-5 mr-2 animate-spin" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/>
        </svg>
        Sending...
      `;
      
      // Simulate form submission
      setTimeout(() => {
        if (!button) return;
        button.innerHTML = `
          <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
          </svg>
          Message Sent!
        `;
        
        setTimeout(() => {
          if (!button) return;
          button.innerHTML = originalText;
          (e.target as HTMLFormElement).reset();
        }, 3000);
      }, 2000);
    });
      if (tab === 'call' || tab === 'schedule') {
        window.switchTab('call');
      } else if (tab === 'message') {
        window.switchTab('message');
      }
      // If no parameter, default tab (message) is already active
    }

    // Wait for DOM to be ready before attaching event listeners
    function initContactPage() {
      // Check URL parameters and open correct tab
      checkAndOpenTab();
      // Magnetic button effect (for submit button)
      document.querySelectorAll('.magnetic-button').forEach(function(button) {
        button.addEventListener('mousemove', function(e) {
          var rect = button.getBoundingClientRect();
          var x = e.clientX - rect.left - rect.width / 2;
          var y = e.clientY - rect.top - rect.height / 2;

          button.style.transform = 'translate(' + (x * 0.2) + 'px, ' + (y * 0.2) + 'px)';
        });

        button.addEventListener('mouseleave', function() {
          button.style.transform = 'translate(0, 0)';
        });
      });

      // Form submission handling
      var contactForm = document.getElementById('contact-form');
      if (contactForm) {
        contactForm.addEventListener('submit', function(e) {
          e.preventDefault();

          // Add success animation
          var button = e.target.querySelector('button[type="submit"]');
          var originalText = button.innerHTML;

          button.innerHTML = '<svg class="w-5 h-5 mr-2 animate-spin" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/></svg> Sending...';

          // Simulate form submission
          setTimeout(function() {
            button.innerHTML = '<svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg> Message Sent!';

            setTimeout(function() {
              button.innerHTML = originalText;
              e.target.reset();
            }, 3000);
          }, 2000);
        });
      }
    }

    // Start typewriter effect
    typeWriter();
    // Initialize when DOM is ready
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initContactPage);
    } else {
      initContactPage();
    }

    // Re-initialize after Astro page transitions
    document.addEventListener('astro:after-swap', initContactPage);
  </script>
</Layout>
